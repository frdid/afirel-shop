---
import SectionHeader from './SectionHeader.astro';
import ProductCard from './ProductCard.astro';

const BASE_URL = import.meta.env.BASE_URL;

interface Props {
  products: Array<{
    id: string;
    data: {
      name: string;
      brand: string;
      price: number;
      originalPrice?: number;
      images: Array<{ url: string; alt: string }>;
      badge?: string;
      rating?: number;
      reviewCount?: number;
      inStock: boolean;
    };
  }>;
}

const { products } = Astro.props;
---

<section class="py-16 px-4 bg-gray-50">
  <div class="container mx-auto">
    <SectionHeader
      title="Latest Products"
      subtitle="Discover our newest additions to the collection"
    />

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
      {products.map((product) => (
        <ProductCard product={product} size="small" />
      ))}
    </div>

    <div class="text-center mt-12">
      <a
        href={`${BASE_URL}products`}
        class="inline-flex items-center bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors duration-200"
      >
        View All Products
        <svg class="ml-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </div>
  </div>
</section>
